<!DOCTYPE html>
<html>
    <body>
        <h1>API REST - EXERCICI I</h1>
        <br/>
        <div id="elements"></div>
    </body>

    <!--Afegirem el codi del Ajax en aquest scrip Carregarem el motor de recerca AJAX-->
    <!--Farem la peticio de dedes amb el object XMLHTTPRequest-->

    <script>

        var xmlhttp = new XMLHttpRequest();
        var url = 'https://jsonplaceholder.typicode.com/posts/1/comments';

        xmlhttp.onreadystatechange = function(){

            if (this.readyState==4 && this.status == 200){
                
                var myArr = JSON.parse(this.responseText);
                console.log(myArr);

                myFuntion(myArr)

            }
        };

        xmlhttp.open("GET", url, true);
        xmlhttp.send();
        
        console.log(xmlhttp);

        function myFuntion(array){

            var sortida = "";

            for(var i = 0; i<array.length; i++){
                sortida += array[i].id + " " + array[i].email + "<br\>";
            }
            sortida += "<br\>";
            sortida += array[0].id + " " + array[0].email + "<br\>";

            document.getElementById("elements").innerHTML = sortida

        };

    </script>

</html>